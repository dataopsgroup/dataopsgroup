
/* Critical Mobile Performance CSS - Enhanced with device-aware optimization */

/* Essential mobile layout - prevents CLS */
:root {
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segue UI', system-ui, sans-serif;
  --font-rubik: 'Rubik', -apple-system, BlinkMacSystemFont, 'Segue UI', system-ui, sans-serif;
}

/* Mobile-first font loading optimization */
@font-face {
  font-family: 'Inter';
  font-display: swap;
  font-weight: 400;
  src: local('Inter'), local('Inter-Regular');
}

@font-face {
  font-family: 'Rubik';
  font-display: swap;
  font-weight: 700;
  src: local('Rubik'), local('Rubik-Bold');
}

/* Essential mobile body styles */
body {
  font-family: var(--font-inter);
  font-display: swap;
  margin: 0;
  padding: 0;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Device-aware optimizations */
body.device-mobile {
  font-size: 16px; /* Prevent zoom on iOS */
}

body.device-mobile * {
  text-rendering: optimizeSpeed;
  -webkit-font-smoothing: antialiased;
}

/* Mobile navigation - prevent layout shifts */
.navbar {
  height: 80px;
  contain: layout style;
}

/* Mobile logo optimization - critical for LCP */
@media (max-width: 768px) {
  .nav-logo {
    height: 48px !important;
    width: auto !important;
    max-width: 150px !important;
    object-fit: contain !important;
    transform: translateZ(0) !important;
    backface-visibility: hidden !important;
    will-change: auto !important;
  }
  
  /* Optimize logo container for mobile */
  picture {
    contain: layout style !important;
    display: block !important;
  }
  
  /* Preload critical logo on mobile */
  .nav-logo {
    image-rendering: -webkit-optimize-contrast !important;
    image-rendering: crisp-edges !important;
  }
}

/* Tablet optimization */
@media (min-width: 769px) and (max-width: 1023px) {
  .nav-logo {
    height: 64px !important;
    max-width: 180px !important;
  }
}

/* Device-specific hero section optimizations */
.device-mobile .hero-section {
  min-height: 50vh !important;
  background: #1e293b !important;
  background-image: none !important;
  padding: 60px 16px 20px !important;
  contain: layout style paint !important;
}

.device-tablet .hero-section {
  min-height: 55vh !important;
  padding: 80px 16px 40px !important;
}

.device-desktop .hero-section {
  /* Keep existing desktop styles */
}

/* Connection-based optimizations */
.connection-slow .device-mobile .hero-section {
  background: #1e293b !important;
  background-image: none !important;
}

.connection-slow .device-mobile * {
  transition: none !important;
  animation: none !important;
}

/* Critical mobile text optimization - targets the LCP element */
.device-mobile .text-xl.leading-relaxed.text-gray-700,
.device-mobile p.text-xl.leading-relaxed.text-gray-700 {
  font-size: 1.125rem !important;
  line-height: 1.5 !important;
  color: #374151 !important;
  font-family: var(--font-inter) !important;
  font-display: swap !important;
  margin: 0 !important;
  padding: 0 !important;
  contain: layout style !important;
  will-change: auto !important;
  transform: translateZ(0) !important;
}

/* Preload critical text styles for mobile */
.device-mobile .hero-content p,
.device-mobile .hero-content .text-xl {
  font-family: var(--font-inter) !important;
  font-display: swap !important;
  contain: layout style !important;
}

/* Essential button styles for mobile */
button, .hero-button {
  min-height: 48px;
  touch-action: manipulation;
  cursor: pointer;
}

/* Image optimization for mobile */
img {
  max-width: 100%;
  height: auto;
  font-display: swap;
}

/* Prevent layout shifts during loading */
.loading-placeholder {
  background: #f3f4f6;
  animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* Mobile-specific performance optimizations */
@media (max-width: 768px) {
  /* Force GPU acceleration for critical elements */
  .hero-content,
  .text-xl,
  p.text-xl,
  .nav-logo {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }
  
  /* Optimize font rendering for mobile */
  * {
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Critical content containment */
  .hero-section,
  .hero-content,
  .navbar {
    contain: layout style paint;
  }
  
  /* Logo preload optimization */
  link[rel="preload"][as="image"][href*="9b9f1c84-13af-4551-96d5-b7a930f008cf"] {
    fetchpriority: high;
  }
}
